<script type="text/javascript">
  function getDefaultConfig(name) {
    const ret = {
      category: 'SmartHome',
      color: '#a6bbcf',
      labelStyle: function () {
        return this.name ? 'node_label_italic' : '';
      }
    };
    ret.label = function () {
      return this.name || (name + (this.bid === undefined ? '' : (' (id ' + this.bid + ')')));
    }

    return ret;
  }

  RED.nodes.registerType('central', Object.assign({}, getDefaultConfig('Central'), {
    defaults: {
      name: {value: ''}
    },
    inputs: 0,
    outputs: 0,
    icon: 'font-awesome/fa-server',
  }));

  RED.nodes.registerType('board event', Object.assign({}, getDefaultConfig('Board Event'), {
    defaults: {
      name: {value: ''},
      bid: {value: 0},
      period: {value:0},
    },
    inputs: 1,
    outputs: 1,
    icon: 'font-awesome/fa-upload',
  }));

  RED.nodes.registerType('to board', Object.assign({}, getDefaultConfig('Write Board'), {
    defaults: {
      name: {value: ''},
      bid: {value: 0},
      prop: {value: ''},
    },
    inputs: 1,
    outputs: 0,
    icon: 'font-awesome/fa-download',
  }));

  RED.nodes.registerType('inject pin id', Object.assign({}, getDefaultConfig('Inject Pin'), {
    defaults: {
      name: {value: ''},
      pin: {value: 0},
      prop: {value: ''},
    },
    inputs: 1,
    outputs: 1,
    icon: 'font-awesome/fa-map-pin',
  }));
  //
  // RED.nodes.registerType('switch by pin', {
  //   defaults: {
  //     //  bid: {value: 0},
  //   },
  //   inputs: 1,
  //   outputs: 8,
  //   icon: 'font-awesome/fa-bars',
  //   label: function () {
  //     return this.name || 'sHome Switch by pin';
  //   }
  // });
</script>

<script type="text/html" data-template-name="central">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/html" data-template-name="board event">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-bid"><i class="fa fa-id-card-o"></i> Board ID</label>
        <input type="text" id="node-input-bid" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-period"><i class="fa fa-clock-o"></i> Period (not implemented yet)</label>
        <input type="text" id="node-input-period" placeholder="">
    </div>
</script>

<script type="text/html" data-template-name="inject pin id">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-pin"><i class="fa fa-map-pin"></i> Pin ID</label>
        <input type="text" id="node-input-pin" placeholder="0">
    </div>
    <div class="form-row">
        <label for="node-input-prop"><i class="fa fa-ellipsis-h"></i> Property</label>
        <input type="text" id="node-input-prop" placeholder="payload">
    </div>
</script>

<!--<script type="text/html" data-template-name="switch by pin">
    <div class="form-row">
        <label for="node-input-bid"><i class="fa fa-tag"></i> Currently unused value</label>
        <input type="number" id="node-input-bid" placeholder="">
    </div>
</script>-->

<script type="text/html" data-template-name="to board">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-bid"><i class="fa fa-id-card-o"></i> Board ID</label>
        <input type="number" id="node-input-bid" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-prop"><i class="fa fa-ellipsis-h"></i> Property</label>
        <input type="text" id="node-input-prop" placeholder="payload">
    </div>
</script>

